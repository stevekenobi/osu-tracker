const createOsuClientMock = require('../mocks/OsuClient');
const createDatabaseClientMock = require('../mocks/DatabaseClient');
const { importLatestBeatmaps, createBeatmapModelsFromOsuBeatmaps, createBeatmapsetsFromBeatmaps } = require('../../src/server/helpers/beatmaps');

describe('beatmaps helper', () => {
  describe('importLatestBeatmaps', () => {
    test('adds new beatmaps to database', async () => {
      const osuClient = createOsuClientMock('getBeatmapsetSearch', async () =>
        Promise.resolve({
          beatmapsets: [
            {
              artist: 'Usa',
              artist_unicode: 'うさ',
              covers: {
                cover: 'https://assets.ppy.sh/beatmaps/546794/covers/cover.jpg?1650651590',
                'cover@2x': 'https://assets.ppy.sh/beatmaps/546794/covers/cover@2x.jpg?1650651590',
                card: 'https://assets.ppy.sh/beatmaps/546794/covers/card.jpg?1650651590',
                'card@2x': 'https://assets.ppy.sh/beatmaps/546794/covers/card@2x.jpg?1650651590',
                list: 'https://assets.ppy.sh/beatmaps/546794/covers/list.jpg?1650651590',
                'list@2x': 'https://assets.ppy.sh/beatmaps/546794/covers/list@2x.jpg?1650651590',
                slimcover: 'https://assets.ppy.sh/beatmaps/546794/covers/slimcover.jpg?1650651590',
                'slimcover@2x': 'https://assets.ppy.sh/beatmaps/546794/covers/slimcover@2x.jpg?1650651590',
              },
              creator: 'jonathanlfj',
              favourite_count: 187,
              hype: null,
              id: 546794,
              nsfw: false,
              offset: 0,
              play_count: 179406,
              preview_url: '//b.ppy.sh/preview/546794.mp3',
              source: '',
              spotlight: false,
              status: 'ranked',
              title: 'Jougen no Tsuki',
              title_unicode: '上弦の月',
              track_id: null,
              user_id: 270377,
              video: true,
              bpm: 82,
              can_be_hyped: false,
              deleted_at: null,
              discussion_enabled: true,
              discussion_locked: false,
              is_scoreable: true,
              last_updated: '2018-05-28T03:12:08Z',
              legacy_thread_url: 'https://osu.ppy.sh/community/forums/topics/534518',
              nominations_summary: {
                current: 0,
                required: 2,
              },
              ranked: 1,
              ranked_date: '2018-06-08T03:00:09Z',
              storyboard: false,
              submitted_date: '2016-12-18T00:18:33Z',
              tags: '黒うさp feat. はな kurousap feat. hana shurelia shad0w1and delis trust giralda apaffy captin1 waning moon kaito v3 黒うさp senbonzakura 千本桜 5th anniversary best 妖艶和奏絵巻 一斗まる 倉内達矢 gram6design',
              availability: {
                download_disabled: false,
                more_information: null,
              },
              beatmaps: [
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 4.87,
                  id: 1158162,
                  mode: 'osu',
                  status: 'wip',
                  total_length: 228,
                  user_id: 270377,
                  version: 'Countless',
                  accuracy: 8,
                  ar: 9,
                  bpm: 82,
                  convert: false,
                  count_circles: 437,
                  count_sliders: 280,
                  count_spinners: 0,
                  cs: 4,
                  deleted_at: null,
                  drain: 6.7,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 0,
                  passcount: 8685,
                  playcount: 46800,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1158162',
                  checksum: 'ed1d437d6ea72481feafea7c459e9fc1',
                  failtimes: {
                    fail: [
                      0, 0, 6, 64, 58, 50, 127, 135, 140, 341, 55, 61, 88, 55, 252, 280, 228, 184, 328, 206, 89, 148, 117, 62, 76, 196, 135, 59, 37, 141, 167, 0, 0, 0, 0, 40, 41, 64, 32, 45, 78, 13,
                      7, 16, 4, 24, 25, 20, 22, 11, 49, 53, 34, 19, 21, 12, 25, 25, 12, 30, 22, 176, 27, 199, 66, 585, 270, 294, 58, 32, 17, 20, 38, 44, 5, 19, 623, 77, 1408, 1037, 78, 26, 18, 10, 8,
                      7, 3, 5, 42, 301, 29, 14, 14, 5, 207, 19, 10, 4, 5, 88,
                    ],
                    exit: [
                      9, 0, 0, 861, 1002, 697, 772, 1229, 648, 886, 815, 443, 517, 302, 495, 912, 830, 387, 576, 750, 592, 507, 500, 328, 282, 871, 407, 366, 174, 316, 1363, 1229, 292, 112, 45, 38,
                      147, 121, 212, 151, 150, 97, 31, 116, 31, 57, 68, 50, 33, 25, 81, 183, 134, 72, 86, 59, 138, 114, 84, 138, 82, 229, 90, 472, 89, 338, 109, 168, 31, 71, 55, 47, 46, 64, 58, 76,
                      314, 49, 280, 233, 109, 72, 53, 17, 20, 21, 20, 15, 12, 132, 98, 42, 8, 12, 48, 32, 5, 18, 9, 323,
                    ],
                  },
                  max_combo: 1037,
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 3.44,
                  id: 1256071,
                  mode: 'catch',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 1603923,
                  version: 'Delis\' Hard',
                  accuracy: 6,
                  ar: 7,
                  bpm: 82,
                  convert: false,
                  count_circles: 223,
                  count_sliders: 311,
                  count_spinners: 3,
                  cs: 4,
                  deleted_at: null,
                  drain: 5,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 0,
                  passcount: 7758,
                  playcount: 38826,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1256071',
                  checksum: '254a69c2b172858c0e9cb436a1d53352',
                  failtimes: {
                    fail: [
                      0, 0, 0, 143, 103, 44, 127, 236, 182, 662, 137, 137, 114, 69, 80, 61, 401, 133, 650, 1314, 174, 182, 68, 47, 96, 348, 176, 63, 43, 78, 26, 0, 0, 0, 0, 40, 34, 12, 1, 17, 11, 8,
                      4, 1, 0, 32, 64, 49, 19, 18, 70, 65, 11, 9, 92, 20, 12, 9, 8, 10, 14, 692, 149, 273, 91, 103, 14, 6, 13, 32, 16, 6, 11, 3, 7, 4, 47, 59, 5, 0, 20, 24, 29, 2, 5, 2, 2, 2, 1, 0, 6,
                      3, 1, 1, 27, 28, 4, 46, 5, 1,
                    ],
                    exit: [
                      0, 0, 0, 1911, 1015, 310, 891, 1955, 843, 1651, 1278, 352, 415, 365, 272, 284, 1385, 438, 608, 759, 353, 341, 180, 165, 168, 982, 431, 177, 102, 135, 464, 930, 229, 91, 32, 75,
                      124, 70, 46, 55, 90, 50, 50, 38, 19, 51, 78, 130, 65, 38, 80, 71, 44, 39, 67, 27, 48, 26, 29, 28, 32, 237, 108, 96, 46, 65, 23, 13, 14, 28, 17, 19, 9, 12, 20, 13, 21, 13, 21, 3,
                      26, 18, 34, 13, 19, 5, 6, 6, 4, 32, 13, 6, 3, 4, 9, 11, 6, 16, 1, 72,
                    ],
                  },
                  max_combo: 889,
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 4.28,
                  id: 1262874,
                  mode: 'osu',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 798668,
                  version: 'Shad0w1and\'s Insane',
                  accuracy: 7,
                  ar: 8.5,
                  bpm: 82,
                  convert: false,
                  count_circles: 285,
                  count_sliders: 261,
                  count_spinners: 1,
                  cs: 4,
                  deleted_at: null,
                  drain: 5,
                  hit_length: 227,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 0,
                  passcount: 7002,
                  playcount: 35514,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1262874',
                  checksum: '63e5e06ecba761caf485e80d8f0d3e56',
                  failtimes: {
                    fail: [
                      0, 0, 0, 0, 0, 0, 12, 18, 10, 32, 22, 31, 29, 7, 94, 85, 47, 60, 23, 50, 73, 119, 144, 77, 31, 255, 106, 159, 48, 420, 180, 58, 20, 15, 4, 15, 87, 43, 18, 18, 7, 11, 11, 35, 22,
                      7, 24, 46, 28, 24, 159, 19, 31, 13, 10, 7, 318, 34, 114, 25, 571, 2405, 99, 58, 27, 202, 41, 17, 13, 12, 9, 4, 19, 10, 8, 5, 2, 7, 2, 452, 63, 43, 23, 12, 37, 263, 20, 16, 528,
                      116, 28, 5, 1, 1, 22, 13, 6, 10, 22, 109,
                    ],
                    exit: [
                      0, 0, 0, 0, 0, 24, 314, 457, 173, 380, 298, 192, 255, 107, 177, 1988, 526, 275, 217, 99, 59, 443, 321, 496, 202, 754, 397, 502, 364, 931, 1225, 645, 214, 98, 54, 183, 578, 433,
                      236, 138, 120, 156, 123, 273, 61, 41, 193, 148, 44, 48, 207, 148, 98, 103, 56, 29, 389, 36, 73, 38, 147, 667, 159, 79, 41, 175, 65, 51, 25, 51, 42, 22, 131, 45, 38, 14, 13, 14,
                      5, 212, 50, 44, 42, 17, 49, 140, 12, 28, 52, 52, 39, 11, 10, 6, 42, 28, 6, 12, 16, 159,
                    ],
                  },
                  max_combo: 866,
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 2.23,
                  id: 1353171,
                  mode: 'osu',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 3807986,
                  version: 'Shurelia\'s Normal',
                  accuracy: 4,
                  ar: 5,
                  bpm: 82,
                  convert: false,
                  count_circles: 199,
                  count_sliders: 245,
                  count_spinners: 1,
                  cs: 3.5,
                  deleted_at: null,
                  drain: 4,
                  hit_length: 218,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 0,
                  passcount: 6462,
                  playcount: 21384,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1353171',
                  checksum: '980e12925072c179533065cb459aa960',
                  failtimes: {
                    fail: [
                      0, 0, 0, 2, 56, 59, 226, 79, 108, 54, 51, 98, 116, 122, 42, 85, 223, 101, 166, 142, 77, 62, 98, 56, 39, 64, 22, 33, 46, 32, 16, 0, 0, 0, 0, 30, 55, 70, 44, 22, 11, 9, 10, 5, 5,
                      13, 11, 16, 12, 23, 43, 13, 45, 41, 15, 6, 21, 11, 24, 20, 9, 14, 7, 2, 6, 13, 33, 10, 15, 29, 3, 10, 19, 19, 28, 17, 17, 97, 117, 31, 44, 70, 58, 38, 23, 12, 21, 4, 22, 14, 8,
                      2, 7, 2, 2, 1, 1, 3, 16, 6,
                    ],
                    exit: [
                      0, 0, 0, 60, 214, 695, 536, 803, 360, 319, 135, 243, 451, 278, 277, 165, 225, 383, 196, 177, 200, 166, 260, 118, 155, 108, 140, 97, 112, 96, 184, 426, 108, 77, 39, 41, 129, 134,
                      82, 51, 46, 38, 28, 54, 35, 24, 22, 32, 42, 35, 36, 50, 34, 79, 27, 15, 28, 34, 46, 19, 14, 29, 21, 16, 8, 24, 19, 18, 20, 37, 13, 26, 41, 48, 19, 43, 27, 33, 32, 27, 28, 112,
                      47, 75, 23, 15, 11, 17, 9, 10, 20, 3, 13, 3, 4, 3, 4, 5, 20, 45,
                    ],
                  },
                  max_combo: 735,
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 4.46,
                  id: 1608962,
                  mode: 'osu',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: 'Collab Insane',
                  accuracy: 7.5,
                  ar: 8.5,
                  bpm: 82,
                  convert: false,
                  count_circles: 336,
                  count_sliders: 322,
                  count_spinners: 1,
                  cs: 4,
                  deleted_at: null,
                  drain: 6,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 0,
                  passcount: 4230,
                  playcount: 25308,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1608962',
                  checksum: 'f59cab488f00a41416dd2ff295d0ac1b',
                  failtimes: {
                    fail: [
                      0, 0, 7, 71, 34, 28, 67, 28, 26, 31, 33, 46, 16, 20, 16, 21, 21, 24, 24, 105, 168, 177, 170, 29, 28, 35, 48, 107, 61, 27, 4, 0, 0, 0, 0, 5, 33, 69, 141, 56, 187, 19, 93, 192, 4,
                      4, 25, 11, 8, 24, 142, 88, 37, 17, 11, 8, 8, 8, 4, 7, 2, 148, 24, 161, 24, 224, 18, 42, 7, 1, 9, 18, 232, 67, 18, 2, 32, 41, 601, 596, 56, 24, 3, 10, 6, 1, 1, 5, 8, 25, 4, 3, 2,
                      1, 116, 27, 6, 11, 6, 24,
                    ],
                    exit: [
                      0, 0, 0, 1193, 700, 414, 410, 365, 494, 293, 421, 407, 306, 237, 79, 187, 99, 354, 334, 307, 439, 280, 523, 168, 95, 233, 132, 450, 280, 82, 561, 502, 117, 66, 13, 93, 293, 184,
                      593, 70, 201, 82, 57, 237, 26, 17, 29, 27, 12, 45, 41, 104, 127, 38, 45, 29, 43, 42, 27, 41, 21, 196, 77, 187, 36, 198, 35, 35, 5, 21, 61, 49, 111, 38, 52, 30, 58, 63, 45, 137,
                      41, 24, 10, 9, 11, 15, 8, 9, 10, 10, 19, 16, 19, 4, 6, 13, 2, 3, 5, 78,
                    ],
                  },
                  max_combo: 1031,
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 1.63,
                  id: 1608963,
                  mode: 'osu',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: 'Easy',
                  accuracy: 2,
                  ar: 3,
                  bpm: 82,
                  convert: false,
                  count_circles: 91,
                  count_sliders: 173,
                  count_spinners: 1,
                  cs: 3,
                  deleted_at: null,
                  drain: 2,
                  hit_length: 218,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 0,
                  passcount: 4734,
                  playcount: 11574,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1608963',
                  checksum: 'ca91cf8539e69b7edfbd70569758f7d6',
                  failtimes: {
                    fail: [
                      0, 0, 0, 0, 0, 24, 41, 47, 48, 41, 34, 64, 12, 17, 25, 74, 29, 16, 29, 74, 50, 17, 22, 23, 21, 18, 10, 14, 8, 14, 15, 0, 0, 0, 0, 23, 6, 9, 14, 9, 18, 23, 1, 1, 5, 8, 61, 15, 11,
                      8, 23, 4, 2, 3, 6, 1, 5, 7, 4, 0, 2, 3, 5, 3, 3, 4, 6, 14, 6, 2, 3, 4, 3, 10, 2, 7, 10, 3, 5, 5, 2, 6, 8, 5, 9, 3, 2, 2, 7, 3, 2, 2, 7, 4, 3, 1, 3, 2, 0, 4,
                    ],
                    exit: [
                      0, 0, 0, 0, 0, 30, 154, 96, 180, 108, 127, 151, 147, 105, 75, 87, 198, 75, 90, 76, 241, 126, 84, 109, 96, 51, 48, 30, 27, 41, 49, 146, 83, 34, 17, 19, 52, 17, 20, 24, 8, 35, 41,
                      21, 11, 20, 36, 157, 68, 75, 21, 36, 20, 19, 12, 13, 23, 10, 9, 14, 19, 8, 4, 20, 9, 6, 4, 16, 5, 7, 6, 11, 11, 9, 8, 6, 7, 7, 10, 5, 12, 12, 20, 36, 14, 11, 4, 2, 7, 3, 9, 4, 4,
                      5, 10, 13, 3, 7, 1, 23,
                    ],
                  },
                  max_combo: 545,
                },
              ],
              converts: [
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 3.32,
                  id: 1158162,
                  mode: 'taiko',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: 'Countless',
                  accuracy: 8,
                  ar: 9,
                  bpm: 82,
                  convert: true,
                  count_circles: 437,
                  count_sliders: 280,
                  count_spinners: 0,
                  cs: 4,
                  deleted_at: null,
                  drain: 6.7,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 1,
                  passcount: 8685,
                  playcount: 46800,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1158162',
                  checksum: 'ed1d437d6ea72481feafea7c459e9fc1',
                  failtimes: {
                    fail: [
                      0, 0, 6, 64, 58, 50, 127, 135, 140, 341, 55, 61, 88, 55, 252, 280, 228, 184, 328, 206, 89, 148, 117, 62, 76, 196, 135, 59, 37, 141, 167, 0, 0, 0, 0, 40, 41, 64, 32, 45, 78, 13,
                      7, 16, 4, 24, 25, 20, 22, 11, 49, 53, 34, 19, 21, 12, 25, 25, 12, 30, 22, 176, 27, 199, 66, 585, 270, 294, 58, 32, 17, 20, 38, 44, 5, 19, 623, 77, 1408, 1037, 78, 26, 18, 10, 8,
                      7, 3, 5, 42, 301, 29, 14, 14, 5, 207, 19, 10, 4, 5, 88,
                    ],
                    exit: [
                      9, 0, 0, 861, 1002, 697, 772, 1229, 648, 886, 815, 443, 517, 302, 495, 912, 830, 387, 576, 750, 592, 507, 500, 328, 282, 871, 407, 366, 174, 316, 1363, 1229, 292, 112, 45, 38,
                      147, 121, 212, 151, 150, 97, 31, 116, 31, 57, 68, 50, 33, 25, 81, 183, 134, 72, 86, 59, 138, 114, 84, 138, 82, 229, 90, 472, 89, 338, 109, 168, 31, 71, 55, 47, 46, 64, 58, 76,
                      314, 49, 280, 233, 109, 72, 53, 17, 20, 21, 20, 15, 12, 132, 98, 42, 8, 12, 48, 32, 5, 18, 9, 323,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 4.1,
                  id: 1158162,
                  mode: 'fruits',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: 'Countless',
                  accuracy: 8,
                  ar: 9,
                  bpm: 82,
                  convert: true,
                  count_circles: 437,
                  count_sliders: 280,
                  count_spinners: 0,
                  cs: 4,
                  deleted_at: null,
                  drain: 6.7,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 2,
                  passcount: 8685,
                  playcount: 46800,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1158162',
                  checksum: 'ed1d437d6ea72481feafea7c459e9fc1',
                  failtimes: {
                    fail: [
                      0, 0, 6, 64, 58, 50, 127, 135, 140, 341, 55, 61, 88, 55, 252, 280, 228, 184, 328, 206, 89, 148, 117, 62, 76, 196, 135, 59, 37, 141, 167, 0, 0, 0, 0, 40, 41, 64, 32, 45, 78, 13,
                      7, 16, 4, 24, 25, 20, 22, 11, 49, 53, 34, 19, 21, 12, 25, 25, 12, 30, 22, 176, 27, 199, 66, 585, 270, 294, 58, 32, 17, 20, 38, 44, 5, 19, 623, 77, 1408, 1037, 78, 26, 18, 10, 8,
                      7, 3, 5, 42, 301, 29, 14, 14, 5, 207, 19, 10, 4, 5, 88,
                    ],
                    exit: [
                      9, 0, 0, 861, 1002, 697, 772, 1229, 648, 886, 815, 443, 517, 302, 495, 912, 830, 387, 576, 750, 592, 507, 500, 328, 282, 871, 407, 366, 174, 316, 1363, 1229, 292, 112, 45, 38,
                      147, 121, 212, 151, 150, 97, 31, 116, 31, 57, 68, 50, 33, 25, 81, 183, 134, 72, 86, 59, 138, 114, 84, 138, 82, 229, 90, 472, 89, 338, 109, 168, 31, 71, 55, 47, 46, 64, 58, 76,
                      314, 49, 280, 233, 109, 72, 53, 17, 20, 21, 20, 15, 12, 132, 98, 42, 8, 12, 48, 32, 5, 18, 9, 323,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 2.75,
                  id: 1158162,
                  mode: 'mania',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: '[7K] Countless',
                  accuracy: 8,
                  ar: 9,
                  bpm: 82,
                  convert: true,
                  count_circles: 437,
                  count_sliders: 280,
                  count_spinners: 0,
                  cs: 7,
                  deleted_at: null,
                  drain: 6.7,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 3,
                  passcount: 8685,
                  playcount: 46800,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1158162',
                  checksum: 'ed1d437d6ea72481feafea7c459e9fc1',
                  failtimes: {
                    fail: [
                      0, 0, 6, 64, 58, 50, 127, 135, 140, 341, 55, 61, 88, 55, 252, 280, 228, 184, 328, 206, 89, 148, 117, 62, 76, 196, 135, 59, 37, 141, 167, 0, 0, 0, 0, 40, 41, 64, 32, 45, 78, 13,
                      7, 16, 4, 24, 25, 20, 22, 11, 49, 53, 34, 19, 21, 12, 25, 25, 12, 30, 22, 176, 27, 199, 66, 585, 270, 294, 58, 32, 17, 20, 38, 44, 5, 19, 623, 77, 1408, 1037, 78, 26, 18, 10, 8,
                      7, 3, 5, 42, 301, 29, 14, 14, 5, 207, 19, 10, 4, 5, 88,
                    ],
                    exit: [
                      9, 0, 0, 861, 1002, 697, 772, 1229, 648, 886, 815, 443, 517, 302, 495, 912, 830, 387, 576, 750, 592, 507, 500, 328, 282, 871, 407, 366, 174, 316, 1363, 1229, 292, 112, 45, 38,
                      147, 121, 212, 151, 150, 97, 31, 116, 31, 57, 68, 50, 33, 25, 81, 183, 134, 72, 86, 59, 138, 114, 84, 138, 82, 229, 90, 472, 89, 338, 109, 168, 31, 71, 55, 47, 46, 64, 58, 76,
                      314, 49, 280, 233, 109, 72, 53, 17, 20, 21, 20, 15, 12, 132, 98, 42, 8, 12, 48, 32, 5, 18, 9, 323,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 2.95,
                  id: 1256071,
                  mode: 'taiko',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 1603923,
                  version: 'Delis\' Hard',
                  accuracy: 6,
                  ar: 7,
                  bpm: 82,
                  convert: true,
                  count_circles: 223,
                  count_sliders: 311,
                  count_spinners: 3,
                  cs: 4,
                  deleted_at: null,
                  drain: 5,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 1,
                  passcount: 7758,
                  playcount: 38826,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1256071',
                  checksum: '254a69c2b172858c0e9cb436a1d53352',
                  failtimes: {
                    fail: [
                      0, 0, 0, 143, 103, 44, 127, 236, 182, 662, 137, 137, 114, 69, 80, 61, 401, 133, 650, 1314, 174, 182, 68, 47, 96, 348, 176, 63, 43, 78, 26, 0, 0, 0, 0, 40, 34, 12, 1, 17, 11, 8,
                      4, 1, 0, 32, 64, 49, 19, 18, 70, 65, 11, 9, 92, 20, 12, 9, 8, 10, 14, 692, 149, 273, 91, 103, 14, 6, 13, 32, 16, 6, 11, 3, 7, 4, 47, 59, 5, 0, 20, 24, 29, 2, 5, 2, 2, 2, 1, 0, 6,
                      3, 1, 1, 27, 28, 4, 46, 5, 1,
                    ],
                    exit: [
                      0, 0, 0, 1911, 1015, 310, 891, 1955, 843, 1651, 1278, 352, 415, 365, 272, 284, 1385, 438, 608, 759, 353, 341, 180, 165, 168, 982, 431, 177, 102, 135, 464, 930, 229, 91, 32, 75,
                      124, 70, 46, 55, 90, 50, 50, 38, 19, 51, 78, 130, 65, 38, 80, 71, 44, 39, 67, 27, 48, 26, 29, 28, 32, 237, 108, 96, 46, 65, 23, 13, 14, 28, 17, 19, 9, 12, 20, 13, 21, 13, 21, 3,
                      26, 18, 34, 13, 19, 5, 6, 6, 4, 32, 13, 6, 3, 4, 9, 11, 6, 16, 1, 72,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 2.02,
                  id: 1256071,
                  mode: 'fruits',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 1603923,
                  version: 'Delis\' Hard',
                  accuracy: 6,
                  ar: 7,
                  bpm: 82,
                  convert: true,
                  count_circles: 223,
                  count_sliders: 311,
                  count_spinners: 3,
                  cs: 4,
                  deleted_at: null,
                  drain: 5,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 2,
                  passcount: 7758,
                  playcount: 38826,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1256071',
                  checksum: '254a69c2b172858c0e9cb436a1d53352',
                  failtimes: {
                    fail: [
                      0, 0, 0, 143, 103, 44, 127, 236, 182, 662, 137, 137, 114, 69, 80, 61, 401, 133, 650, 1314, 174, 182, 68, 47, 96, 348, 176, 63, 43, 78, 26, 0, 0, 0, 0, 40, 34, 12, 1, 17, 11, 8,
                      4, 1, 0, 32, 64, 49, 19, 18, 70, 65, 11, 9, 92, 20, 12, 9, 8, 10, 14, 692, 149, 273, 91, 103, 14, 6, 13, 32, 16, 6, 11, 3, 7, 4, 47, 59, 5, 0, 20, 24, 29, 2, 5, 2, 2, 2, 1, 0, 6,
                      3, 1, 1, 27, 28, 4, 46, 5, 1,
                    ],
                    exit: [
                      0, 0, 0, 1911, 1015, 310, 891, 1955, 843, 1651, 1278, 352, 415, 365, 272, 284, 1385, 438, 608, 759, 353, 341, 180, 165, 168, 982, 431, 177, 102, 135, 464, 930, 229, 91, 32, 75,
                      124, 70, 46, 55, 90, 50, 50, 38, 19, 51, 78, 130, 65, 38, 80, 71, 44, 39, 67, 27, 48, 26, 29, 28, 32, 237, 108, 96, 46, 65, 23, 13, 14, 28, 17, 19, 9, 12, 20, 13, 21, 13, 21, 3,
                      26, 18, 34, 13, 19, 5, 6, 6, 4, 32, 13, 6, 3, 4, 9, 11, 6, 16, 1, 72,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 2.23,
                  id: 1256071,
                  mode: 'mania',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 1603923,
                  version: '[7K] Delis\' Hard',
                  accuracy: 6,
                  ar: 7,
                  bpm: 82,
                  convert: true,
                  count_circles: 223,
                  count_sliders: 311,
                  count_spinners: 3,
                  cs: 7,
                  deleted_at: null,
                  drain: 5,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 3,
                  passcount: 7758,
                  playcount: 38826,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1256071',
                  checksum: '254a69c2b172858c0e9cb436a1d53352',
                  failtimes: {
                    fail: [
                      0, 0, 0, 143, 103, 44, 127, 236, 182, 662, 137, 137, 114, 69, 80, 61, 401, 133, 650, 1314, 174, 182, 68, 47, 96, 348, 176, 63, 43, 78, 26, 0, 0, 0, 0, 40, 34, 12, 1, 17, 11, 8,
                      4, 1, 0, 32, 64, 49, 19, 18, 70, 65, 11, 9, 92, 20, 12, 9, 8, 10, 14, 692, 149, 273, 91, 103, 14, 6, 13, 32, 16, 6, 11, 3, 7, 4, 47, 59, 5, 0, 20, 24, 29, 2, 5, 2, 2, 2, 1, 0, 6,
                      3, 1, 1, 27, 28, 4, 46, 5, 1,
                    ],
                    exit: [
                      0, 0, 0, 1911, 1015, 310, 891, 1955, 843, 1651, 1278, 352, 415, 365, 272, 284, 1385, 438, 608, 759, 353, 341, 180, 165, 168, 982, 431, 177, 102, 135, 464, 930, 229, 91, 32, 75,
                      124, 70, 46, 55, 90, 50, 50, 38, 19, 51, 78, 130, 65, 38, 80, 71, 44, 39, 67, 27, 48, 26, 29, 28, 32, 237, 108, 96, 46, 65, 23, 13, 14, 28, 17, 19, 9, 12, 20, 13, 21, 13, 21, 3,
                      26, 18, 34, 13, 19, 5, 6, 6, 4, 32, 13, 6, 3, 4, 9, 11, 6, 16, 1, 72,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 3.22,
                  id: 1262874,
                  mode: 'taiko',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 798668,
                  version: 'Shad0w1and\'s Insane',
                  accuracy: 7,
                  ar: 8.5,
                  bpm: 82,
                  convert: true,
                  count_circles: 285,
                  count_sliders: 261,
                  count_spinners: 1,
                  cs: 4,
                  deleted_at: null,
                  drain: 5,
                  hit_length: 227,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 1,
                  passcount: 7002,
                  playcount: 35514,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1262874',
                  checksum: '63e5e06ecba761caf485e80d8f0d3e56',
                  failtimes: {
                    fail: [
                      0, 0, 0, 0, 0, 0, 12, 18, 10, 32, 22, 31, 29, 7, 94, 85, 47, 60, 23, 50, 73, 119, 144, 77, 31, 255, 106, 159, 48, 420, 180, 58, 20, 15, 4, 15, 87, 43, 18, 18, 7, 11, 11, 35, 22,
                      7, 24, 46, 28, 24, 159, 19, 31, 13, 10, 7, 318, 34, 114, 25, 571, 2405, 99, 58, 27, 202, 41, 17, 13, 12, 9, 4, 19, 10, 8, 5, 2, 7, 2, 452, 63, 43, 23, 12, 37, 263, 20, 16, 528,
                      116, 28, 5, 1, 1, 22, 13, 6, 10, 22, 109,
                    ],
                    exit: [
                      0, 0, 0, 0, 0, 24, 314, 457, 173, 380, 298, 192, 255, 107, 177, 1988, 526, 275, 217, 99, 59, 443, 321, 496, 202, 754, 397, 502, 364, 931, 1225, 645, 214, 98, 54, 183, 578, 433,
                      236, 138, 120, 156, 123, 273, 61, 41, 193, 148, 44, 48, 207, 148, 98, 103, 56, 29, 389, 36, 73, 38, 147, 667, 159, 79, 41, 175, 65, 51, 25, 51, 42, 22, 131, 45, 38, 14, 13, 14,
                      5, 212, 50, 44, 42, 17, 49, 140, 12, 28, 52, 52, 39, 11, 10, 6, 42, 28, 6, 12, 16, 159,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 3.32,
                  id: 1262874,
                  mode: 'fruits',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 798668,
                  version: 'Shad0w1and\'s Insane',
                  accuracy: 7,
                  ar: 8.5,
                  bpm: 82,
                  convert: true,
                  count_circles: 285,
                  count_sliders: 261,
                  count_spinners: 1,
                  cs: 4,
                  deleted_at: null,
                  drain: 5,
                  hit_length: 227,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 2,
                  passcount: 7002,
                  playcount: 35514,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1262874',
                  checksum: '63e5e06ecba761caf485e80d8f0d3e56',
                  failtimes: {
                    fail: [
                      0, 0, 0, 0, 0, 0, 12, 18, 10, 32, 22, 31, 29, 7, 94, 85, 47, 60, 23, 50, 73, 119, 144, 77, 31, 255, 106, 159, 48, 420, 180, 58, 20, 15, 4, 15, 87, 43, 18, 18, 7, 11, 11, 35, 22,
                      7, 24, 46, 28, 24, 159, 19, 31, 13, 10, 7, 318, 34, 114, 25, 571, 2405, 99, 58, 27, 202, 41, 17, 13, 12, 9, 4, 19, 10, 8, 5, 2, 7, 2, 452, 63, 43, 23, 12, 37, 263, 20, 16, 528,
                      116, 28, 5, 1, 1, 22, 13, 6, 10, 22, 109,
                    ],
                    exit: [
                      0, 0, 0, 0, 0, 24, 314, 457, 173, 380, 298, 192, 255, 107, 177, 1988, 526, 275, 217, 99, 59, 443, 321, 496, 202, 754, 397, 502, 364, 931, 1225, 645, 214, 98, 54, 183, 578, 433,
                      236, 138, 120, 156, 123, 273, 61, 41, 193, 148, 44, 48, 207, 148, 98, 103, 56, 29, 389, 36, 73, 38, 147, 667, 159, 79, 41, 175, 65, 51, 25, 51, 42, 22, 131, 45, 38, 14, 13, 14,
                      5, 212, 50, 44, 42, 17, 49, 140, 12, 28, 52, 52, 39, 11, 10, 6, 42, 28, 6, 12, 16, 159,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 2.49,
                  id: 1262874,
                  mode: 'mania',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 798668,
                  version: '[7K] Shad0w1and\'s Insane',
                  accuracy: 7,
                  ar: 8.5,
                  bpm: 82,
                  convert: true,
                  count_circles: 285,
                  count_sliders: 261,
                  count_spinners: 1,
                  cs: 7,
                  deleted_at: null,
                  drain: 5,
                  hit_length: 227,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:08Z',
                  mode_int: 3,
                  passcount: 7002,
                  playcount: 35514,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1262874',
                  checksum: '63e5e06ecba761caf485e80d8f0d3e56',
                  failtimes: {
                    fail: [
                      0, 0, 0, 0, 0, 0, 12, 18, 10, 32, 22, 31, 29, 7, 94, 85, 47, 60, 23, 50, 73, 119, 144, 77, 31, 255, 106, 159, 48, 420, 180, 58, 20, 15, 4, 15, 87, 43, 18, 18, 7, 11, 11, 35, 22,
                      7, 24, 46, 28, 24, 159, 19, 31, 13, 10, 7, 318, 34, 114, 25, 571, 2405, 99, 58, 27, 202, 41, 17, 13, 12, 9, 4, 19, 10, 8, 5, 2, 7, 2, 452, 63, 43, 23, 12, 37, 263, 20, 16, 528,
                      116, 28, 5, 1, 1, 22, 13, 6, 10, 22, 109,
                    ],
                    exit: [
                      0, 0, 0, 0, 0, 24, 314, 457, 173, 380, 298, 192, 255, 107, 177, 1988, 526, 275, 217, 99, 59, 443, 321, 496, 202, 754, 397, 502, 364, 931, 1225, 645, 214, 98, 54, 183, 578, 433,
                      236, 138, 120, 156, 123, 273, 61, 41, 193, 148, 44, 48, 207, 148, 98, 103, 56, 29, 389, 36, 73, 38, 147, 667, 159, 79, 41, 175, 65, 51, 25, 51, 42, 22, 131, 45, 38, 14, 13, 14,
                      5, 212, 50, 44, 42, 17, 49, 140, 12, 28, 52, 52, 39, 11, 10, 6, 42, 28, 6, 12, 16, 159,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 2.31,
                  id: 1353171,
                  mode: 'taiko',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 3807986,
                  version: 'Shurelia\'s Normal',
                  accuracy: 4,
                  ar: 5,
                  bpm: 82,
                  convert: true,
                  count_circles: 199,
                  count_sliders: 245,
                  count_spinners: 1,
                  cs: 3.5,
                  deleted_at: null,
                  drain: 4,
                  hit_length: 218,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 1,
                  passcount: 6462,
                  playcount: 21384,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1353171',
                  checksum: '980e12925072c179533065cb459aa960',
                  failtimes: {
                    fail: [
                      0, 0, 0, 2, 56, 59, 226, 79, 108, 54, 51, 98, 116, 122, 42, 85, 223, 101, 166, 142, 77, 62, 98, 56, 39, 64, 22, 33, 46, 32, 16, 0, 0, 0, 0, 30, 55, 70, 44, 22, 11, 9, 10, 5, 5,
                      13, 11, 16, 12, 23, 43, 13, 45, 41, 15, 6, 21, 11, 24, 20, 9, 14, 7, 2, 6, 13, 33, 10, 15, 29, 3, 10, 19, 19, 28, 17, 17, 97, 117, 31, 44, 70, 58, 38, 23, 12, 21, 4, 22, 14, 8,
                      2, 7, 2, 2, 1, 1, 3, 16, 6,
                    ],
                    exit: [
                      0, 0, 0, 60, 214, 695, 536, 803, 360, 319, 135, 243, 451, 278, 277, 165, 225, 383, 196, 177, 200, 166, 260, 118, 155, 108, 140, 97, 112, 96, 184, 426, 108, 77, 39, 41, 129, 134,
                      82, 51, 46, 38, 28, 54, 35, 24, 22, 32, 42, 35, 36, 50, 34, 79, 27, 15, 28, 34, 46, 19, 14, 29, 21, 16, 8, 24, 19, 18, 20, 37, 13, 26, 41, 48, 19, 43, 27, 33, 32, 27, 28, 112,
                      47, 75, 23, 15, 11, 17, 9, 10, 20, 3, 13, 3, 4, 3, 4, 5, 20, 45,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 1.27,
                  id: 1353171,
                  mode: 'fruits',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 3807986,
                  version: 'Shurelia\'s Normal',
                  accuracy: 4,
                  ar: 5,
                  bpm: 82,
                  convert: true,
                  count_circles: 199,
                  count_sliders: 245,
                  count_spinners: 1,
                  cs: 3.5,
                  deleted_at: null,
                  drain: 4,
                  hit_length: 218,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 2,
                  passcount: 6462,
                  playcount: 21384,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1353171',
                  checksum: '980e12925072c179533065cb459aa960',
                  failtimes: {
                    fail: [
                      0, 0, 0, 2, 56, 59, 226, 79, 108, 54, 51, 98, 116, 122, 42, 85, 223, 101, 166, 142, 77, 62, 98, 56, 39, 64, 22, 33, 46, 32, 16, 0, 0, 0, 0, 30, 55, 70, 44, 22, 11, 9, 10, 5, 5,
                      13, 11, 16, 12, 23, 43, 13, 45, 41, 15, 6, 21, 11, 24, 20, 9, 14, 7, 2, 6, 13, 33, 10, 15, 29, 3, 10, 19, 19, 28, 17, 17, 97, 117, 31, 44, 70, 58, 38, 23, 12, 21, 4, 22, 14, 8,
                      2, 7, 2, 2, 1, 1, 3, 16, 6,
                    ],
                    exit: [
                      0, 0, 0, 60, 214, 695, 536, 803, 360, 319, 135, 243, 451, 278, 277, 165, 225, 383, 196, 177, 200, 166, 260, 118, 155, 108, 140, 97, 112, 96, 184, 426, 108, 77, 39, 41, 129, 134,
                      82, 51, 46, 38, 28, 54, 35, 24, 22, 32, 42, 35, 36, 50, 34, 79, 27, 15, 28, 34, 46, 19, 14, 29, 21, 16, 8, 24, 19, 18, 20, 37, 13, 26, 41, 48, 19, 43, 27, 33, 32, 27, 28, 112,
                      47, 75, 23, 15, 11, 17, 9, 10, 20, 3, 13, 3, 4, 3, 4, 5, 20, 45,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 1.87,
                  id: 1353171,
                  mode: 'mania',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 3807986,
                  version: '[5K] Shurelia\'s Normal',
                  accuracy: 4,
                  ar: 5,
                  bpm: 82,
                  convert: true,
                  count_circles: 199,
                  count_sliders: 245,
                  count_spinners: 1,
                  cs: 5,
                  deleted_at: null,
                  drain: 4,
                  hit_length: 218,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 3,
                  passcount: 6462,
                  playcount: 21384,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1353171',
                  checksum: '980e12925072c179533065cb459aa960',
                  failtimes: {
                    fail: [
                      0, 0, 0, 2, 56, 59, 226, 79, 108, 54, 51, 98, 116, 122, 42, 85, 223, 101, 166, 142, 77, 62, 98, 56, 39, 64, 22, 33, 46, 32, 16, 0, 0, 0, 0, 30, 55, 70, 44, 22, 11, 9, 10, 5, 5,
                      13, 11, 16, 12, 23, 43, 13, 45, 41, 15, 6, 21, 11, 24, 20, 9, 14, 7, 2, 6, 13, 33, 10, 15, 29, 3, 10, 19, 19, 28, 17, 17, 97, 117, 31, 44, 70, 58, 38, 23, 12, 21, 4, 22, 14, 8,
                      2, 7, 2, 2, 1, 1, 3, 16, 6,
                    ],
                    exit: [
                      0, 0, 0, 60, 214, 695, 536, 803, 360, 319, 135, 243, 451, 278, 277, 165, 225, 383, 196, 177, 200, 166, 260, 118, 155, 108, 140, 97, 112, 96, 184, 426, 108, 77, 39, 41, 129, 134,
                      82, 51, 46, 38, 28, 54, 35, 24, 22, 32, 42, 35, 36, 50, 34, 79, 27, 15, 28, 34, 46, 19, 14, 29, 21, 16, 8, 24, 19, 18, 20, 37, 13, 26, 41, 48, 19, 43, 27, 33, 32, 27, 28, 112,
                      47, 75, 23, 15, 11, 17, 9, 10, 20, 3, 13, 3, 4, 3, 4, 5, 20, 45,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 3.43,
                  id: 1608962,
                  mode: 'taiko',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: 'Collab Insane',
                  accuracy: 7.5,
                  ar: 8.5,
                  bpm: 82,
                  convert: true,
                  count_circles: 336,
                  count_sliders: 322,
                  count_spinners: 1,
                  cs: 4,
                  deleted_at: null,
                  drain: 6,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 1,
                  passcount: 4230,
                  playcount: 25308,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1608962',
                  checksum: 'f59cab488f00a41416dd2ff295d0ac1b',
                  failtimes: {
                    fail: [
                      0, 0, 7, 71, 34, 28, 67, 28, 26, 31, 33, 46, 16, 20, 16, 21, 21, 24, 24, 105, 168, 177, 170, 29, 28, 35, 48, 107, 61, 27, 4, 0, 0, 0, 0, 5, 33, 69, 141, 56, 187, 19, 93, 192, 4,
                      4, 25, 11, 8, 24, 142, 88, 37, 17, 11, 8, 8, 8, 4, 7, 2, 148, 24, 161, 24, 224, 18, 42, 7, 1, 9, 18, 232, 67, 18, 2, 32, 41, 601, 596, 56, 24, 3, 10, 6, 1, 1, 5, 8, 25, 4, 3, 2,
                      1, 116, 27, 6, 11, 6, 24,
                    ],
                    exit: [
                      0, 0, 0, 1193, 700, 414, 410, 365, 494, 293, 421, 407, 306, 237, 79, 187, 99, 354, 334, 307, 439, 280, 523, 168, 95, 233, 132, 450, 280, 82, 561, 502, 117, 66, 13, 93, 293, 184,
                      593, 70, 201, 82, 57, 237, 26, 17, 29, 27, 12, 45, 41, 104, 127, 38, 45, 29, 43, 42, 27, 41, 21, 196, 77, 187, 36, 198, 35, 35, 5, 21, 61, 49, 111, 38, 52, 30, 58, 63, 45, 137,
                      41, 24, 10, 9, 11, 15, 8, 9, 10, 10, 19, 16, 19, 4, 6, 13, 2, 3, 5, 78,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 3.7,
                  id: 1608962,
                  mode: 'fruits',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: 'Collab Insane',
                  accuracy: 7.5,
                  ar: 8.5,
                  bpm: 82,
                  convert: true,
                  count_circles: 336,
                  count_sliders: 322,
                  count_spinners: 1,
                  cs: 4,
                  deleted_at: null,
                  drain: 6,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 2,
                  passcount: 4230,
                  playcount: 25308,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1608962',
                  checksum: 'f59cab488f00a41416dd2ff295d0ac1b',
                  failtimes: {
                    fail: [
                      0, 0, 7, 71, 34, 28, 67, 28, 26, 31, 33, 46, 16, 20, 16, 21, 21, 24, 24, 105, 168, 177, 170, 29, 28, 35, 48, 107, 61, 27, 4, 0, 0, 0, 0, 5, 33, 69, 141, 56, 187, 19, 93, 192, 4,
                      4, 25, 11, 8, 24, 142, 88, 37, 17, 11, 8, 8, 8, 4, 7, 2, 148, 24, 161, 24, 224, 18, 42, 7, 1, 9, 18, 232, 67, 18, 2, 32, 41, 601, 596, 56, 24, 3, 10, 6, 1, 1, 5, 8, 25, 4, 3, 2,
                      1, 116, 27, 6, 11, 6, 24,
                    ],
                    exit: [
                      0, 0, 0, 1193, 700, 414, 410, 365, 494, 293, 421, 407, 306, 237, 79, 187, 99, 354, 334, 307, 439, 280, 523, 168, 95, 233, 132, 450, 280, 82, 561, 502, 117, 66, 13, 93, 293, 184,
                      593, 70, 201, 82, 57, 237, 26, 17, 29, 27, 12, 45, 41, 104, 127, 38, 45, 29, 43, 42, 27, 41, 21, 196, 77, 187, 36, 198, 35, 35, 5, 21, 61, 49, 111, 38, 52, 30, 58, 63, 45, 137,
                      41, 24, 10, 9, 11, 15, 8, 9, 10, 10, 19, 16, 19, 4, 6, 13, 2, 3, 5, 78,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 2.59,
                  id: 1608962,
                  mode: 'mania',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: '[7K] Collab Insane',
                  accuracy: 7.5,
                  ar: 8.5,
                  bpm: 82,
                  convert: true,
                  count_circles: 336,
                  count_sliders: 322,
                  count_spinners: 1,
                  cs: 7,
                  deleted_at: null,
                  drain: 6,
                  hit_length: 217,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 3,
                  passcount: 4230,
                  playcount: 25308,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1608962',
                  checksum: 'f59cab488f00a41416dd2ff295d0ac1b',
                  failtimes: {
                    fail: [
                      0, 0, 7, 71, 34, 28, 67, 28, 26, 31, 33, 46, 16, 20, 16, 21, 21, 24, 24, 105, 168, 177, 170, 29, 28, 35, 48, 107, 61, 27, 4, 0, 0, 0, 0, 5, 33, 69, 141, 56, 187, 19, 93, 192, 4,
                      4, 25, 11, 8, 24, 142, 88, 37, 17, 11, 8, 8, 8, 4, 7, 2, 148, 24, 161, 24, 224, 18, 42, 7, 1, 9, 18, 232, 67, 18, 2, 32, 41, 601, 596, 56, 24, 3, 10, 6, 1, 1, 5, 8, 25, 4, 3, 2,
                      1, 116, 27, 6, 11, 6, 24,
                    ],
                    exit: [
                      0, 0, 0, 1193, 700, 414, 410, 365, 494, 293, 421, 407, 306, 237, 79, 187, 99, 354, 334, 307, 439, 280, 523, 168, 95, 233, 132, 450, 280, 82, 561, 502, 117, 66, 13, 93, 293, 184,
                      593, 70, 201, 82, 57, 237, 26, 17, 29, 27, 12, 45, 41, 104, 127, 38, 45, 29, 43, 42, 27, 41, 21, 196, 77, 187, 36, 198, 35, 35, 5, 21, 61, 49, 111, 38, 52, 30, 58, 63, 45, 137,
                      41, 24, 10, 9, 11, 15, 8, 9, 10, 10, 19, 16, 19, 4, 6, 13, 2, 3, 5, 78,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 1.54,
                  id: 1608963,
                  mode: 'taiko',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: 'Easy',
                  accuracy: 2,
                  ar: 3,
                  bpm: 82,
                  convert: true,
                  count_circles: 91,
                  count_sliders: 173,
                  count_spinners: 1,
                  cs: 3,
                  deleted_at: null,
                  drain: 2,
                  hit_length: 218,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 1,
                  passcount: 4734,
                  playcount: 11574,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1608963',
                  checksum: 'ca91cf8539e69b7edfbd70569758f7d6',
                  failtimes: {
                    fail: [
                      0, 0, 0, 0, 0, 24, 41, 47, 48, 41, 34, 64, 12, 17, 25, 74, 29, 16, 29, 74, 50, 17, 22, 23, 21, 18, 10, 14, 8, 14, 15, 0, 0, 0, 0, 23, 6, 9, 14, 9, 18, 23, 1, 1, 5, 8, 61, 15, 11,
                      8, 23, 4, 2, 3, 6, 1, 5, 7, 4, 0, 2, 3, 5, 3, 3, 4, 6, 14, 6, 2, 3, 4, 3, 10, 2, 7, 10, 3, 5, 5, 2, 6, 8, 5, 9, 3, 2, 2, 7, 3, 2, 2, 7, 4, 3, 1, 3, 2, 0, 4,
                    ],
                    exit: [
                      0, 0, 0, 0, 0, 30, 154, 96, 180, 108, 127, 151, 147, 105, 75, 87, 198, 75, 90, 76, 241, 126, 84, 109, 96, 51, 48, 30, 27, 41, 49, 146, 83, 34, 17, 19, 52, 17, 20, 24, 8, 35, 41,
                      21, 11, 20, 36, 157, 68, 75, 21, 36, 20, 19, 12, 13, 23, 10, 9, 14, 19, 8, 4, 20, 9, 6, 4, 16, 5, 7, 6, 11, 11, 9, 8, 6, 7, 7, 10, 5, 12, 12, 20, 36, 14, 11, 4, 2, 7, 3, 9, 4, 4,
                      5, 10, 13, 3, 7, 1, 23,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 1,
                  id: 1608963,
                  mode: 'fruits',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: 'Easy',
                  accuracy: 2,
                  ar: 3,
                  bpm: 82,
                  convert: true,
                  count_circles: 91,
                  count_sliders: 173,
                  count_spinners: 1,
                  cs: 3,
                  deleted_at: null,
                  drain: 2,
                  hit_length: 218,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 2,
                  passcount: 4734,
                  playcount: 11574,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1608963',
                  checksum: 'ca91cf8539e69b7edfbd70569758f7d6',
                  failtimes: {
                    fail: [
                      0, 0, 0, 0, 0, 24, 41, 47, 48, 41, 34, 64, 12, 17, 25, 74, 29, 16, 29, 74, 50, 17, 22, 23, 21, 18, 10, 14, 8, 14, 15, 0, 0, 0, 0, 23, 6, 9, 14, 9, 18, 23, 1, 1, 5, 8, 61, 15, 11,
                      8, 23, 4, 2, 3, 6, 1, 5, 7, 4, 0, 2, 3, 5, 3, 3, 4, 6, 14, 6, 2, 3, 4, 3, 10, 2, 7, 10, 3, 5, 5, 2, 6, 8, 5, 9, 3, 2, 2, 7, 3, 2, 2, 7, 4, 3, 1, 3, 2, 0, 4,
                    ],
                    exit: [
                      0, 0, 0, 0, 0, 30, 154, 96, 180, 108, 127, 151, 147, 105, 75, 87, 198, 75, 90, 76, 241, 126, 84, 109, 96, 51, 48, 30, 27, 41, 49, 146, 83, 34, 17, 19, 52, 17, 20, 24, 8, 35, 41,
                      21, 11, 20, 36, 157, 68, 75, 21, 36, 20, 19, 12, 13, 23, 10, 9, 14, 19, 8, 4, 20, 9, 6, 4, 16, 5, 7, 6, 11, 11, 9, 8, 6, 7, 7, 10, 5, 12, 12, 20, 36, 14, 11, 4, 2, 7, 3, 9, 4, 4,
                      5, 10, 13, 3, 7, 1, 23,
                    ],
                  },
                },
                {
                  beatmapset_id: 546794,
                  difficulty_rating: 1.18,
                  id: 1608963,
                  mode: 'mania',
                  status: 'ranked',
                  total_length: 228,
                  user_id: 270377,
                  version: '[4K] Easy',
                  accuracy: 2,
                  ar: 3,
                  bpm: 82,
                  convert: true,
                  count_circles: 91,
                  count_sliders: 173,
                  count_spinners: 1,
                  cs: 4,
                  deleted_at: null,
                  drain: 2,
                  hit_length: 218,
                  is_scoreable: true,
                  last_updated: '2018-05-28T03:12:09Z',
                  mode_int: 3,
                  passcount: 4734,
                  playcount: 11574,
                  ranked: 1,
                  url: 'https://osu.ppy.sh/beatmaps/1608963',
                  checksum: 'ca91cf8539e69b7edfbd70569758f7d6',
                  failtimes: {
                    fail: [
                      0, 0, 0, 0, 0, 24, 41, 47, 48, 41, 34, 64, 12, 17, 25, 74, 29, 16, 29, 74, 50, 17, 22, 23, 21, 18, 10, 14, 8, 14, 15, 0, 0, 0, 0, 23, 6, 9, 14, 9, 18, 23, 1, 1, 5, 8, 61, 15, 11,
                      8, 23, 4, 2, 3, 6, 1, 5, 7, 4, 0, 2, 3, 5, 3, 3, 4, 6, 14, 6, 2, 3, 4, 3, 10, 2, 7, 10, 3, 5, 5, 2, 6, 8, 5, 9, 3, 2, 2, 7, 3, 2, 2, 7, 4, 3, 1, 3, 2, 0, 4,
                    ],
                    exit: [
                      0, 0, 0, 0, 0, 30, 154, 96, 180, 108, 127, 151, 147, 105, 75, 87, 198, 75, 90, 76, 241, 126, 84, 109, 96, 51, 48, 30, 27, 41, 49, 146, 83, 34, 17, 19, 52, 17, 20, 24, 8, 35, 41,
                      21, 11, 20, 36, 157, 68, 75, 21, 36, 20, 19, 12, 13, 23, 10, 9, 14, 19, 8, 4, 20, 9, 6, 4, 16, 5, 7, 6, 11, 11, 9, 8, 6, 7, 7, 10, 5, 12, 12, 20, 36, 14, 11, 4, 2, 7, 3, 9, 4, 4,
                      5, 10, 13, 3, 7, 1, 23,
                    ],
                  },
                },
              ],
              current_nominations: [],
              description: {
                description:
                  '<div class=\'bbcode bbcode--normal-line-height\'><center><a rel="nofollow" href="https://osu.ppy.sh/b/420562"><img src="https://i.ppy.sh/c6ce30d8b577e9a6ed0f3df2d4a40b6ab239f590/687474703a2f2f7075752e73682f73535a36792e706e67" alt="" loading="lazy" /></a><a rel="nofollow" href="https://osu.ppy.sh/s/393343"><img src="https://i.ppy.sh/a16c3dfbb6308df3dd479497fc799a597c6dca88/687474703a2f2f7075752e73682f45663452342e706e67" alt="" loading="lazy" /></a><br /><strong>Collab Insane brought to you by:<br /><a class="user-name js-usercard" data-user-id="@Trust" href="https://osu.ppy.sh/users/%40Trust">Trust</a> | <a class="user-name js-usercard" data-user-id="@Giralda" href="https://osu.ppy.sh/users/%40Giralda">Giralda</a> | <a class="user-name js-usercard" data-user-id="@apaffy" href="https://osu.ppy.sh/users/%40apaffy">apaffy</a> | <a class="user-name js-usercard" data-user-id="@captin1" href="https://osu.ppy.sh/users/%40captin1">captin1</a></strong></center></div>',
              },
              genre: {
                id: 4,
                name: 'Rock',
              },
              language: {
                id: 3,
                name: 'Japanese',
              },
              pack_tags: ['S661'],
              ratings: [0, 6, 4, 1, 4, 6, 8, 16, 29, 53, 298],
              recent_favourites: [
                {
                  avatar_url: 'https://a.ppy.sh/35176382?1705130550.jpeg',
                  country_code: 'JP',
                  default_group: 'default',
                  id: 35176382,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-10T14:59:40+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Rern',
                },
                {
                  avatar_url: 'https://a.ppy.sh/10497417?1568628830.jpg',
                  country_code: 'CN',
                  default_group: 'default',
                  id: 10497417,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-01-28T14:20:43+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'chiyayayayayaya',
                },
                {
                  avatar_url: 'https://a.ppy.sh/7743696?1612644932.jpeg',
                  country_code: 'CL',
                  default_group: 'default',
                  id: 7743696,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-12-02T01:39:23+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'CloruroDePija',
                },
                {
                  avatar_url: 'https://a.ppy.sh/14755468?1682239812.jpeg',
                  country_code: 'JP',
                  default_group: 'default',
                  id: 14755468,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-12-03T15:21:54+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'setuna_3316',
                },
                {
                  avatar_url: 'https://a.ppy.sh/11354180?1685929445.jpeg',
                  country_code: 'US',
                  default_group: 'default',
                  id: 11354180,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: true,
                  last_visit: '2023-12-01T17:57:14+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'chewy',
                },
                {
                  avatar_url: 'https://a.ppy.sh/12185342?1690114448.jpeg',
                  country_code: 'TH',
                  default_group: 'default',
                  id: 12185342,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: null,
                  pm_friends_only: false,
                  profile_colour: null,
                  username: '- Focus -',
                },
                {
                  avatar_url: 'https://a.ppy.sh/9306963?1588465297.png',
                  country_code: 'BR',
                  default_group: 'default',
                  id: 9306963,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-07-16T20:05:23+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'firetygger',
                },
                {
                  avatar_url: 'https://a.ppy.sh/11948653?1678112804.jpeg',
                  country_code: 'HK',
                  default_group: 'default',
                  id: 11948653,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: true,
                  last_visit: null,
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'hiyori_',
                },
                {
                  avatar_url: 'https://a.ppy.sh/11665593?1694366068.jpeg',
                  country_code: 'TR',
                  default_group: 'default',
                  id: 11665593,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: true,
                  last_visit: '2024-02-12T19:25:24+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Fequin',
                },
                {
                  avatar_url: 'https://a.ppy.sh/8174211?1639584990.jpeg',
                  country_code: 'HK',
                  default_group: 'default',
                  id: 8174211,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-13T00:57:09+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'wumalu',
                },
                {
                  avatar_url: 'https://a.ppy.sh/12643881?1646507615.jpeg',
                  country_code: 'BR',
                  default_group: 'default',
                  id: 12643881,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-12T23:06:16+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Xunni',
                },
                {
                  avatar_url: 'https://a.ppy.sh/31206409?1675660849.jpeg',
                  country_code: 'PA',
                  default_group: 'default',
                  id: 31206409,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: null,
                  pm_friends_only: true,
                  profile_colour: null,
                  username: 'BolasPla',
                },
                {
                  avatar_url: 'https://a.ppy.sh/14134394?1577271322.jpeg',
                  country_code: 'TH',
                  default_group: 'default',
                  id: 14134394,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-12T14:25:33+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'kirito 303',
                },
                {
                  avatar_url: 'https://a.ppy.sh/31451138?1665715806.jpeg',
                  country_code: 'DO',
                  default_group: 'default',
                  id: 31451138,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-12-12T05:18:23+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Eitsuk1',
                },
                {
                  avatar_url: 'https://a.ppy.sh/31384114?1663794428.jpeg',
                  country_code: 'CL',
                  default_group: 'default',
                  id: 31384114,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-08-20T00:53:09+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Fu-Hua',
                },
                {
                  avatar_url: 'https://a.ppy.sh/10124182?1597919638.jpeg',
                  country_code: 'AU',
                  default_group: 'default',
                  id: 10124182,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-04-05T12:58:52+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'A1elx',
                },
                {
                  avatar_url: 'https://a.ppy.sh/119519?1660457208.png',
                  country_code: 'CN',
                  default_group: 'default',
                  id: 119519,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-01-30T19:45:55+00:00',
                  pm_friends_only: true,
                  profile_colour: null,
                  username: 'GreatCoffee',
                },
                {
                  avatar_url: 'https://a.ppy.sh/30134448?1653972741.jpeg',
                  country_code: 'TW',
                  default_group: 'default',
                  id: 30134448,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-01T08:35:42+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Janche1212',
                },
                {
                  avatar_url: 'https://a.ppy.sh/22261032?1617075968.jpeg',
                  country_code: 'BR',
                  default_group: 'default',
                  id: 22261032,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2022-06-23T20:11:48+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Liminhoo',
                },
                {
                  avatar_url: 'https://a.ppy.sh/29417788?1653945894.jpeg',
                  country_code: 'LV',
                  default_group: 'default',
                  id: 29417788,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-11-16T11:06:17+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'namejs',
                },
                {
                  avatar_url: 'https://a.ppy.sh/17904443?1629540612.jpeg',
                  country_code: 'CN',
                  default_group: 'default',
                  id: 17904443,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-12T09:01:02+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Awaoboros',
                },
                {
                  avatar_url: 'https://a.ppy.sh/12992049?1706983200.jpeg',
                  country_code: 'CN',
                  default_group: 'default',
                  id: 12992049,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-12T14:27:02+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Xing212',
                },
                {
                  avatar_url: 'https://a.ppy.sh/28990114?1646209402.jpeg',
                  country_code: 'CN',
                  default_group: 'default',
                  id: 28990114,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-12-24T13:43:35+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: '_Ryou_',
                },
                {
                  avatar_url: 'https://osu.ppy.sh/images/layout/avatar-guest@2x.png',
                  country_code: 'CA',
                  default_group: 'default',
                  id: 9196262,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-10-08T06:11:41+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'haseebs',
                },
                {
                  avatar_url: 'https://a.ppy.sh/28015576?1644751478.jpeg',
                  country_code: 'KR',
                  default_group: 'default',
                  id: 28015576,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-10-11T11:31:39+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'debucat',
                },
                {
                  avatar_url: 'https://a.ppy.sh/27470083?1644669773.jpeg',
                  country_code: 'MY',
                  default_group: 'default',
                  id: 27470083,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-08T05:38:52+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'claymoto',
                },
                {
                  avatar_url: 'https://a.ppy.sh/19111594?1604071847.jpeg',
                  country_code: 'ID',
                  default_group: 'default',
                  id: 19111594,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-12-04T08:49:42+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'TheRoboBC',
                },
                {
                  avatar_url: 'https://osu.ppy.sh/images/layout/avatar-guest@2x.png',
                  country_code: 'PH',
                  default_group: 'default',
                  id: 28202826,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2022-01-15T02:42:13+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'doubledutchette',
                },
                {
                  avatar_url: 'https://a.ppy.sh/15089204?1668117445.jpeg',
                  country_code: 'RO',
                  default_group: 'default',
                  id: 15089204,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: null,
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'lonelydudezelix',
                },
                {
                  avatar_url: 'https://a.ppy.sh/21909008?1686052177.png',
                  country_code: 'IT',
                  default_group: 'default',
                  id: 21909008,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: null,
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Laskerf',
                },
                {
                  avatar_url: 'https://a.ppy.sh/15408010?1623878348.jpeg',
                  country_code: 'US',
                  default_group: 'default',
                  id: 15408010,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-10T21:44:56+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'CauthNox',
                },
                {
                  avatar_url: 'https://osu.ppy.sh/images/layout/avatar-guest@2x.png',
                  country_code: 'TW',
                  default_group: 'default',
                  id: 18720758,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2021-08-06T10:11:23+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Genshin804',
                },
                {
                  avatar_url: 'https://a.ppy.sh/9980266?1669306173.jpeg',
                  country_code: 'IN',
                  default_group: 'default',
                  id: 9980266,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: true,
                  is_supporter: false,
                  last_visit: '2024-02-13T10:39:17+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Xelane',
                },
                {
                  avatar_url: 'https://osu.ppy.sh/images/layout/avatar-guest@2x.png',
                  country_code: 'TW',
                  default_group: 'default',
                  id: 23646575,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-03-23T16:07:35+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'SamuiYoru',
                },
                {
                  avatar_url: 'https://a.ppy.sh/8876709?1676469600.jpeg',
                  country_code: 'TW',
                  default_group: 'default',
                  id: 8876709,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-01-13T14:17:34+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'hank89111',
                },
                {
                  avatar_url: 'https://a.ppy.sh/12443260?1559183402.jpeg',
                  country_code: 'US',
                  default_group: 'default',
                  id: 12443260,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: null,
                  pm_friends_only: true,
                  profile_colour: null,
                  username: 'pop-tart',
                },
                {
                  avatar_url: 'https://osu.ppy.sh/images/layout/avatar-guest@2x.png',
                  country_code: 'MD',
                  default_group: 'default',
                  id: 12911457,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2021-08-27T20:17:46+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'ironerg',
                },
                {
                  avatar_url: 'https://a.ppy.sh/19574096?1617303942.png',
                  country_code: 'US',
                  default_group: 'default',
                  id: 19574096,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2022-11-29T06:41:12+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'dylan_m',
                },
                {
                  avatar_url: 'https://a.ppy.sh/754261?1523720407.jpeg',
                  country_code: 'PL',
                  default_group: 'default',
                  id: 754261,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-11-07T19:20:06+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Szandris',
                },
                {
                  avatar_url: 'https://osu.ppy.sh/images/layout/avatar-guest@2x.png',
                  country_code: 'TW',
                  default_group: 'default',
                  id: 15422236,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2022-04-23T08:06:52+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'pbcbyh92',
                },
                {
                  avatar_url: 'https://a.ppy.sh/11910966?1522535039.jpeg',
                  country_code: 'US',
                  default_group: 'default',
                  id: 11910966,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-11T06:02:18+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'cryptiid',
                },
                {
                  avatar_url: 'https://a.ppy.sh/17067420?1614788076.jpeg',
                  country_code: 'FR',
                  default_group: 'default',
                  id: 17067420,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2022-04-16T20:54:29+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'vocasansy',
                },
                {
                  avatar_url: 'https://a.ppy.sh/18721846?1704177771.jpeg',
                  country_code: 'PH',
                  default_group: 'default',
                  id: 18721846,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: null,
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Chitoge4321',
                },
                {
                  avatar_url: 'https://a.ppy.sh/21246580?1614257301.jpeg',
                  country_code: 'PH',
                  default_group: 'default',
                  id: 21246580,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2021-05-31T13:48:04+00:00',
                  pm_friends_only: true,
                  profile_colour: null,
                  username: 'Hibineko',
                },
                {
                  avatar_url: 'https://a.ppy.sh/11745823?1607721127.jpeg',
                  country_code: 'MX',
                  default_group: 'default',
                  id: 11745823,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-08T07:11:46+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Proesky',
                },
                {
                  avatar_url: 'https://a.ppy.sh/10898259?1609081584.jpeg',
                  country_code: 'VN',
                  default_group: 'default',
                  id: 10898259,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-12-30T18:24:56+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'hanhri',
                },
                {
                  avatar_url: 'https://a.ppy.sh/18843390?1602362361.jpeg',
                  country_code: 'UA',
                  default_group: 'default',
                  id: 18843390,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: null,
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Mffin_lady',
                },
                {
                  avatar_url: 'https://a.ppy.sh/5099768?1648578795.jpeg',
                  country_code: 'BR',
                  default_group: 'default',
                  id: 5099768,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: true,
                  last_visit: null,
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Net0',
                },
                {
                  avatar_url: 'https://a.ppy.sh/7913857?1656442084.jpeg',
                  country_code: 'TW',
                  default_group: 'default',
                  id: 7913857,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-01-20T17:15:23+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'a0978820304',
                },
                {
                  avatar_url: 'https://a.ppy.sh/17861673?1598362873.jpeg',
                  country_code: 'TW',
                  default_group: 'default',
                  id: 17861673,
                  is_active: false,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2023-12-26T14:27:49+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Sakura1209',
                },
              ],
              related_users: [
                {
                  avatar_url: 'https://a.ppy.sh/270377?1667272039.jpeg',
                  country_code: 'CA',
                  default_group: 'bng',
                  id: 270377,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: true,
                  last_visit: '2024-02-13T04:52:03+00:00',
                  pm_friends_only: false,
                  profile_colour: '#A347EB',
                  username: 'jonathanlfj',
                },
                {
                  avatar_url: 'https://a.ppy.sh/798668?1581732639.jpeg',
                  country_code: 'CN',
                  default_group: 'default',
                  id: 798668,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: '2024-02-13T09:44:20+00:00',
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Shad0w1and',
                },
                {
                  avatar_url: 'https://a.ppy.sh/1603923?1707261389.png',
                  country_code: 'JP',
                  default_group: 'default',
                  id: 1603923,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: false,
                  last_visit: null,
                  pm_friends_only: false,
                  profile_colour: null,
                  username: 'Delis',
                },
                {
                  avatar_url: 'https://a.ppy.sh/3807986?1705084640.jpeg',
                  country_code: 'ID',
                  default_group: 'gmt',
                  id: 3807986,
                  is_active: true,
                  is_bot: false,
                  is_deleted: false,
                  is_online: false,
                  is_supporter: true,
                  last_visit: '2024-02-13T09:42:37+00:00',
                  pm_friends_only: false,
                  profile_colour: '#99EB47',
                  username: 'Shurelia',
                },
              ],
              user: {
                avatar_url: 'https://a.ppy.sh/270377?1667272039.jpeg',
                country_code: 'CA',
                default_group: 'bng',
                id: 270377,
                is_active: true,
                is_bot: false,
                is_deleted: false,
                is_online: false,
                is_supporter: true,
                last_visit: '2024-02-13T04:52:03+00:00',
                pm_friends_only: false,
                profile_colour: '#A347EB',
                username: 'jonathanlfj',
              },
            },
          ],
        }),
      );

      const databaseClient = createDatabaseClientMock('updateBeatmaps', async () => Promise.resolve());

      await importLatestBeatmaps(osuClient, databaseClient);

      expect(databaseClient.updateBeatmaps).toHaveBeenCalledWith([
        {
          AR: 8.5,
          BPM: 82,
          CS: 4,
          HP: 5,
          OD: 7,
          artist: 'Usa',
          beatmapsetId: 546794,
          creator: 'jonathanlfj',
          difficulty: 4.28,
          id: 1262874,
          length: 228,
          mode: 'osu',
          rankedDate: '2018-06-08T03:00:09Z',
          status: 'ranked',
          title: 'Jougen no Tsuki',
          version: 'Shad0w1and\'s Insane',
        },
        {
          AR: 5,
          BPM: 82,
          CS: 3.5,
          HP: 4,
          OD: 4,
          artist: 'Usa',
          beatmapsetId: 546794,
          creator: 'jonathanlfj',
          difficulty: 2.23,
          id: 1353171,
          length: 228,
          mode: 'osu',
          rankedDate: '2018-06-08T03:00:09Z',
          status: 'ranked',
          title: 'Jougen no Tsuki',
          version: 'Shurelia\'s Normal',
        },
        {
          AR: 8.5,
          BPM: 82,
          CS: 4,
          HP: 6,
          OD: 7.5,
          artist: 'Usa',
          beatmapsetId: 546794,
          creator: 'jonathanlfj',
          difficulty: 4.46,
          id: 1608962,
          length: 228,
          mode: 'osu',
          rankedDate: '2018-06-08T03:00:09Z',
          status: 'ranked',
          title: 'Jougen no Tsuki',
          version: 'Collab Insane',
        },
        {
          AR: 3,
          BPM: 82,
          CS: 3,
          HP: 2,
          OD: 2,
          artist: 'Usa',
          beatmapsetId: 546794,
          creator: 'jonathanlfj',
          difficulty: 1.63,
          id: 1608963,
          length: 228,
          mode: 'osu',
          rankedDate: '2018-06-08T03:00:09Z',
          status: 'ranked',
          title: 'Jougen no Tsuki',
          version: 'Easy',
        },
      ]);
    });
  });

  describe('createBeatmapModelsFromOsuBeatmaps', () => {
    test('creates correct beatmap model', () => {
      const result = createBeatmapModelsFromOsuBeatmaps([
        {
          beatmapset_id: 589980,
          difficulty_rating: 1.59,
          id: 1258265,
          mode: 'mania',
          status: 'ranked',
          total_length: 119,
          user_id: 3985205,
          version: '[4K] sui',
          accuracy: 4,
          ar: 5,
          bpm: 190,
          convert: false,
          count_circles: 309,
          count_sliders: 44,
          count_spinners: 0,
          cs: 4,
          deleted_at: null,
          drain: 8,
          hit_length: 108,
          is_scoreable: false,
          last_updated: '2017-04-04T13:19:32Z',
          mode_int: 3,
          passcount: 1,
          playcount: 4,
          ranked: -2,
          url: 'https://osu.ppy.sh/beatmaps/1258265',
          checksum: '9e19fc16b7873857884c4c34e1a589af',
          beatmapset: {
            artist: 'Versus',
            artist_unicode: 'Versus',
            covers: {
              cover: 'https://assets.ppy.sh/beatmaps/589980/covers/cover.jpg?1491361647',
              'cover@2x': 'https://assets.ppy.sh/beatmaps/589980/covers/cover@2x.jpg?1491361647',
              card: 'https://assets.ppy.sh/beatmaps/589980/covers/card.jpg?1491361647',
              'card@2x': 'https://assets.ppy.sh/beatmaps/589980/covers/card@2x.jpg?1491361647',
              list: 'https://assets.ppy.sh/beatmaps/589980/covers/list.jpg?1491361647',
              'list@2x': 'https://assets.ppy.sh/beatmaps/589980/covers/list@2x.jpg?1491361647',
              slimcover: 'https://assets.ppy.sh/beatmaps/589980/covers/slimcover.jpg?1491361647',
              'slimcover@2x': 'https://assets.ppy.sh/beatmaps/589980/covers/slimcover@2x.jpg?1491361647',
            },
            creator: 'kaikugi56',
            favourite_count: 0,
            hype: null,
            id: 589980,
            nsfw: false,
            offset: 0,
            play_count: 237,
            preview_url: '//b.ppy.sh/preview/589980.mp3',
            source: 'MUSECA 1+1/2',
            spotlight: false,
            status: 'ranked',
            title: 'MeteorA',
            title_unicode: 'MeteorA',
            track_id: null,
            user_id: 3985205,
            video: false,
            bpm: 190,
            can_be_hyped: false,
            deleted_at: null,
            discussion_enabled: true,
            discussion_locked: false,
            is_scoreable: false,
            last_updated: '2017-04-04T13:19:31Z',
            legacy_thread_url: 'https://osu.ppy.sh/community/forums/topics/577674',
            nominations_summary: {
              current: 0,
              required: 2,
            },
            ranked: -2,
            ranked_date: null,
            storyboard: false,
            submitted_date: '2017-03-24T13:21:48Z',
            tags: 'meteora vursus museca',
            availability: {
              download_disabled: false,
              more_information: null,
            },
            ratings: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
          },
          failtimes: {
            exit: [
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            fail: [
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
          },
          max_combo: 566,
        },
        {
          beatmapset_id: 546794,
          difficulty_rating: 4.87,
          id: 1158162,
          mode: 'osu',
          status: 'ranked',
          total_length: 228,
          user_id: 270377,
          version: 'Countless',
          accuracy: 8,
          ar: 9,
          bpm: 82,
          convert: false,
          count_circles: 437,
          count_sliders: 280,
          count_spinners: 0,
          cs: 4,
          deleted_at: null,
          drain: 6.7,
          hit_length: 217,
          is_scoreable: true,
          last_updated: '2018-05-28T03:12:08Z',
          mode_int: 0,
          passcount: 8685,
          playcount: 46800,
          ranked: 1,
          url: 'https://osu.ppy.sh/beatmaps/1158162',
          checksum: 'ed1d437d6ea72481feafea7c459e9fc1',
          beatmapset: {
            artist: 'Usa',
            artist_unicode: 'うさ',
            covers: {
              cover: 'https://assets.ppy.sh/beatmaps/546794/covers/cover.jpg?1650651590',
              'cover@2x': 'https://assets.ppy.sh/beatmaps/546794/covers/cover@2x.jpg?1650651590',
              card: 'https://assets.ppy.sh/beatmaps/546794/covers/card.jpg?1650651590',
              'card@2x': 'https://assets.ppy.sh/beatmaps/546794/covers/card@2x.jpg?1650651590',
              list: 'https://assets.ppy.sh/beatmaps/546794/covers/list.jpg?1650651590',
              'list@2x': 'https://assets.ppy.sh/beatmaps/546794/covers/list@2x.jpg?1650651590',
              slimcover: 'https://assets.ppy.sh/beatmaps/546794/covers/slimcover.jpg?1650651590',
              'slimcover@2x': 'https://assets.ppy.sh/beatmaps/546794/covers/slimcover@2x.jpg?1650651590',
            },
            creator: 'jonathanlfj',
            favourite_count: 187,
            hype: null,
            id: 546794,
            nsfw: false,
            offset: 0,
            play_count: 179406,
            preview_url: '//b.ppy.sh/preview/546794.mp3',
            source: '',
            spotlight: false,
            status: 'ranked',
            title: 'Jougen no Tsuki',
            title_unicode: '上弦の月',
            track_id: null,
            user_id: 270377,
            video: true,
            bpm: 82,
            can_be_hyped: false,
            deleted_at: null,
            discussion_enabled: true,
            discussion_locked: false,
            is_scoreable: true,
            last_updated: '2018-05-28T03:12:08Z',
            legacy_thread_url: 'https://osu.ppy.sh/community/forums/topics/534518',
            nominations_summary: {
              current: 0,
              required: 2,
            },
            ranked: 1,
            ranked_date: '2018-06-08T03:00:09Z',
            storyboard: false,
            submitted_date: '2016-12-18T00:18:33Z',
            tags: '黒うさp feat. はな kurousap feat. hana shurelia shad0w1and delis trust giralda apaffy captin1 waning moon kaito v3 黒うさp senbonzakura 千本桜 5th anniversary best 妖艶和奏絵巻 一斗まる 倉内達矢 gram6design',
            availability: {
              download_disabled: false,
              more_information: null,
            },
            ratings: [0, 6, 4, 1, 4, 6, 8, 16, 29, 53, 298],
          },
          failtimes: {
            fail: [
              0, 0, 6, 64, 58, 50, 127, 135, 140, 341, 55, 61, 88, 55, 252, 280, 228, 184, 328, 206, 89, 148, 117, 62, 76, 196, 135, 59, 37, 141, 167, 0, 0, 0, 0, 40, 41, 64, 32, 45, 78, 13, 7, 16, 4,
              24, 25, 20, 22, 11, 49, 53, 34, 19, 21, 12, 25, 25, 12, 30, 22, 176, 27, 199, 66, 585, 270, 294, 58, 32, 17, 20, 38, 44, 5, 19, 623, 77, 1408, 1037, 78, 26, 18, 10, 8, 7, 3, 5, 42, 301,
              29, 14, 14, 5, 207, 19, 10, 4, 5, 88,
            ],
            exit: [
              9, 0, 0, 861, 1002, 697, 772, 1229, 648, 886, 815, 443, 517, 302, 495, 912, 830, 387, 576, 750, 592, 507, 500, 328, 282, 871, 407, 366, 174, 316, 1363, 1229, 292, 112, 45, 38, 147, 121,
              212, 151, 150, 97, 31, 116, 31, 57, 68, 50, 33, 25, 81, 183, 134, 72, 86, 59, 138, 114, 84, 138, 82, 229, 90, 472, 89, 338, 109, 168, 31, 71, 55, 47, 46, 64, 58, 76, 314, 49, 280, 233,
              109, 72, 53, 17, 20, 21, 20, 15, 12, 132, 98, 42, 8, 12, 48, 32, 5, 18, 9, 323,
            ],
          },
          max_combo: 1037,
        },
        {
          beatmapset_id: 546781,
          difficulty_rating: 1.19,
          id: 1158265,
          mode: 'osu',
          status: 'graveyard',
          total_length: 141,
          user_id: 8980479,
          version: 'Easy',
          accuracy: 2,
          ar: 3,
          bpm: 87.5,
          convert: false,
          count_circles: 36,
          count_sliders: 34,
          count_spinners: 5,
          cs: 2.5,
          deleted_at: null,
          drain: 3,
          hit_length: 140,
          is_scoreable: false,
          last_updated: '2017-02-05T20:05:36Z',
          mode_int: 0,
          passcount: 4,
          playcount: 4,
          ranked: -2,
          url: 'https://osu.ppy.sh/beatmaps/1158265',
          checksum: '106030778bfaead52b1372b086a45466',
          beatmapset: {
            artist: 'Darius',
            artist_unicode: 'Darius',
            covers: {
              cover: 'https://assets.ppy.sh/beatmaps/546781/covers/cover.jpg?1487837179',
              'cover@2x': 'https://assets.ppy.sh/beatmaps/546781/covers/cover@2x.jpg?1487837179',
              card: 'https://assets.ppy.sh/beatmaps/546781/covers/card.jpg?1487837179',
              'card@2x': 'https://assets.ppy.sh/beatmaps/546781/covers/card@2x.jpg?1487837179',
              list: 'https://assets.ppy.sh/beatmaps/546781/covers/list.jpg?1487837179',
              'list@2x': 'https://assets.ppy.sh/beatmaps/546781/covers/list@2x.jpg?1487837179',
              slimcover: 'https://assets.ppy.sh/beatmaps/546781/covers/slimcover.jpg?1487837179',
              'slimcover@2x': 'https://assets.ppy.sh/beatmaps/546781/covers/slimcover@2x.jpg?1487837179',
            },
            creator: 'Fardeau',
            favourite_count: 0,
            hype: null,
            id: 546781,
            nsfw: false,
            offset: 0,
            play_count: 24,
            preview_url: '//b.ppy.sh/preview/546781.mp3',
            source: 'Ergosphere',
            spotlight: false,
            status: 'graveyard',
            title: 'Event Horizon',
            title_unicode: 'Event Horizon',
            track_id: null,
            user_id: 8980479,
            video: false,
            bpm: 87.5,
            can_be_hyped: false,
            deleted_at: null,
            discussion_enabled: true,
            discussion_locked: false,
            is_scoreable: false,
            last_updated: '2017-02-05T20:05:36Z',
            legacy_thread_url: 'https://osu.ppy.sh/community/forums/topics/534504',
            nominations_summary: {
              current: 0,
              required: 2,
            },
            ranked: -2,
            ranked_date: null,
            storyboard: false,
            submitted_date: '2016-12-17T23:37:58Z',
            tags: 'darius event horizon ergosphere lapfox trax halley labs',
            availability: {
              download_disabled: false,
              more_information: null,
            },
            ratings: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
          },
          failtimes: {
            exit: [
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            fail: [
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
          },
          max_combo: 122,
        },
      ]);

      expect(result.length).toBe(1);
      expect(result).toStrictEqual([
        {
          AR: 9,
          BPM: 82,
          CS: 4,
          HP: 6.7,
          OD: 8,
          artist: 'Usa',
          beatmapsetId: 546794,
          creator: 'jonathanlfj',
          difficulty: 4.87,
          id: 1158162,
          length: 228,
          mode: 'osu',
          rankedDate: '2018-06-08T03:00:09Z',
          status: 'ranked',
          title: 'Jougen no Tsuki',
          version: 'Countless',
        },
      ]);
    });
  });

  describe('createBeatmapsetsFromBeatmaps', () => {
    test('creates correct beatmapsets', () => {
      const result = createBeatmapsetsFromBeatmaps([
        {
          id: 1,
          beatmapsetId: 1,
          artist: 'artist',
          title: 'title',
          creator: 'creator',
          version: 'Easy',
          difficulty: 1.45,
          AR: 3,
          CS: 2,
          OD: 2,
          HP: 3,
          BPM: 145,
          length: 145,
          status: 'ranked',
          mode: 'osu',
          rankedDate: '2024',
        },
        {
          id: 4,
          beatmapsetId: 1,
          artist: 'artist',
          title: 'title',
          creator: 'creator',
          version: 'Hard',
          difficulty: 3.45,
          AR: 3,
          CS: 2,
          OD: 2,
          HP: 3,
          BPM: 150,
          length: 145,
          status: 'ranked',
          mode: 'osu',
          rankedDate: '2024',
        },
        {
          id: 2,
          beatmapsetId: 1,
          artist: 'artist',
          title: 'title',
          creator: 'creator',
          version: 'Normal',
          difficulty: 2.45,
          AR: 5,
          CS: 3,
          OD: 3,
          HP: 5,
          BPM: 145,
          length: 145,
          status: 'ranked',
          mode: 'osu',
          rankedDate: '2024',
        },
        {
          id: 3,
          beatmapsetId: 2,
          artist: 'other artist',
          title: 'other title',
          creator: 'other creator',
          version: 'Easy',
          difficulty: 1.45,
          AR: 3,
          CS: 2,
          OD: 2,
          HP: 3,
          BPM: 150,
          length: 145,
          status: 'ranked',
          mode: 'osu',
          rankedDate: '2024',
        },
      ]);

      expect(result.length).toBe(2);
      expect(result).toStrictEqual([
        {
          beatmaps: [
            {
              AR: 3,
              BPM: 145,
              CS: 2,
              HP: 3,
              OD: 2,
              artist: 'artist',
              beatmapsetId: 1,
              creator: 'creator',
              difficulty: 1.45,
              id: 1,
              length: 145,
              mode: 'osu',
              rankedDate: '2024',
              status: 'ranked',
              title: 'title',
              version: 'Easy',
            },
            {
              AR: 5,
              BPM: 145,
              CS: 3,
              HP: 5,
              OD: 3,
              artist: 'artist',
              beatmapsetId: 1,
              creator: 'creator',
              difficulty: 2.45,
              id: 2,
              length: 145,
              mode: 'osu',
              rankedDate: '2024',
              status: 'ranked',
              title: 'title',
              version: 'Normal',
            },
            {
              AR: 3,
              BPM: 150,
              CS: 2,
              HP: 3,
              OD: 2,
              artist: 'artist',
              beatmapsetId: 1,
              creator: 'creator',
              difficulty: 3.45,
              id: 4,
              length: 145,
              mode: 'osu',
              rankedDate: '2024',
              status: 'ranked',
              title: 'title',
              version: 'Hard',
            },
          ],
          id: 1,
        },
        {
          beatmaps: [
            {
              AR: 3,
              BPM: 150,
              CS: 2,
              HP: 3,
              OD: 2,
              artist: 'other artist',
              beatmapsetId: 2,
              creator: 'other creator',
              difficulty: 1.45,
              id: 3,
              length: 145,
              mode: 'osu',
              rankedDate: '2024',
              status: 'ranked',
              title: 'other title',
              version: 'Easy',
            },
          ],
          id: 2,
        },
      ]);
    });
  });
});
